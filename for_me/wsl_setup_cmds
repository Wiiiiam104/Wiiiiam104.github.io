####
# wsl
####
> wsl --install ubuntu
> wsl
sudo apt update
sudo apt upgrade
sudo adduser guest
sudo usermod -aG sudo guest
sudo vim /etc/wsl.conf                         # [user] \n default=guest
cd ~
sudo apt-get install build-essential

####
# git
####
git --version
ssh-keygen -t ecdsa
sudo vim ~/.ssh/id_ecdsa.pub                   # copy and paste to github
git config --global user.name <USER_NAME>      # use double quote
git config --global user.email <USER_EMAIL>
git config --global alias.co checkout
git config --global push.default simple
# vim ./.git/hooks/pre-push                    # if u need

####
# fish
####
sudo apt install fish
chsh -s /usr/bin/fish
echo "cd ~" >> ~/.config/fish/config.fish
exec fish

####
# brew (w/ fish)
####
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
echo >> /home/guest/.config/fish/config.fish
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> /home/guest/.config/fish/config.fish
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

####
# docker
####
sudo snap install docker
sudo groupadd docker
sudo usermod -aG docker $USER
echo "We need restarting wsl to reset `/var/run/docker.sock` permission."
echo "Please call `wsl --shutdown` in powershell."
exit
> wsl --shutdown          # restart wsl to reset `/var/run/docker.sock` permission
> wsl

####
# TeX (w/ docker, cf. https://qiita.com/k_uki512/items/728605e4dc25b2706baf)
####
docker pull ghcr.io/being24/latex-docker:latest
git clone git@github.com:Wiiiiam104/latex-template-ja
cd latex-template-ja/
sudo chmod 755 .                                                                                                                                 # avoid `dvipdfmx:fatal: Unable to open`
git co -b report_hoge                                                                                                                            # create a feat branch to store on github
# code .                                                                                                                                         # edit main.tex
docker run --rm --name latex-template-ja -it -v (pwd):/workdir ghcr.io/being24/latex-docker sh -c "uplatex main.tex && dvipdfmx main && exit"    # Fish Shell (in Bash, use `${pwd}` instead.)

####
# direnv (w/ fish)
####
echo "direnv hook fish | source" >> ~/.config/fish/config.fish
